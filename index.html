<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convert core depths for Lakes 380 cores  • Lakes380CoreDepthTools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Convert core depths for Lakes 380 cores ">
<meta property="og:description" content="Converts core depths for Lakes 380 cores.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Lakes380CoreDepthTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.16.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="lakes380coredepthtools">Lakes380CoreDepthTools<a class="anchor" aria-label="anchor" href="#lakes380coredepthtools"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>This package helps convert core-section depths to depth below lake floor for Lakes 380 lakes.</p>
<p>To install, you’ll need the <code>remotes</code> package if you don’t already have it</p>
<p><code>install.packages("remotes")</code></p>
<p>Then you can install the package</p>
<p><code>remotes::install_github("nickmckay/Lakes380CoreDepthTools")</code></p>
<p>and then load it with</p>
<p><code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(Lakes380CoreDepthTools)</a></code></p>
</div>
<div class="section level2">
<h2 id="how-to-calculate-dblf-from-depths-relative-to-core-liners">How to calculate dblf from depths relative to core liners<a class="anchor" aria-label="anchor" href="#how-to-calculate-dblf-from-depths-relative-to-core-liners"></a>
</h2>
<p>Currently, the functionality is pretty basic. To convert core-section depth to depth below lake floor, use the function <code><a href="reference/coreSection_to_dblf.html">coreSection_to_dblf()</a></code> with the corename and depth below the top of the core liner. You can run it for one or more depths. Here is an example that will calculate depth below lake floor for 20 to 30 cm below the core liner in core L380_DUNCA3_LC4U_2:</p>
<p><code>dblf &lt;- coreSection_to_dblf("L380_DUNCA3_LC4U_2",20:30)</code></p>
<p>This will return a dataframe with the depths and some metadata.</p>
<p>All of the depths in the package, both inputs and outputs should be in cm. It should give you an error if you ask for a bad depth range.</p>
<div class="section level3">
<h3 id="how-to-calculate-dblf-from-coreliner-depth-for-multiple-core-sections">How to calculate dblf from coreliner depth for multiple core sections.<a class="anchor" aria-label="anchor" href="#how-to-calculate-dblf-from-coreliner-depth-for-multiple-core-sections"></a>
</h3>
<p>You may want to convert multiple core sections at once. You can do so using a vector or a data.frame that lists the core section names and corresponding depths. For example:</p>
<p><code>multi_coreSection_to_dblf(c("L380_DUNCA3_LC4U_1","L380_DUNCA3_LC4U_2"),c(20,10))</code></p>
<p>or in the case where you have the information stored in a data.frame</p>
<p><code>multi_coreSection_to_dblf(corec("L380_DUNCA3_LC4U_1","L380_DUNCA3_LC4U_2"),c(20,10))</code></p>
</div>
<div class="section level3">
<h3 id="load-in-a-spreadsheet-and-add-in-dblf">Load in a spreadsheet and add in dblf<a class="anchor" aria-label="anchor" href="#load-in-a-spreadsheet-and-add-in-dblf"></a>
</h3>
<p>The function <code><a href="reference/dblf_from_file.html">dblf_from_file()</a></code> will let you select a spreadsheet (csv, xls, xlsx) to load in, select the key columns, and write out a csv file with calculated depths. <strong>This works for both core liner depth, and HSI depth</strong>. Just specify conv.type = “coreliner” or conv.type = “hsi”.</p>
<p>If you want to convert multiple cores, try you can add a column with the core name to the spreadsheet, and then select that column in the process. That can look as simple as this:</p>
<p><code>dblf_from_file(conv.type = "coreliner")</code></p>
<p>Alternatively, if it’s just one core, this might be easier (this time for HSI):</p>
<p><code>dblf_from_file(corename = "L380_FORSY_LC1U_2",conv.type = "HSI")</code></p>
</div>
</div>
<div class="section level2">
<h2 id="how-to-calculate-dblf-from-depths-output-from-hyperspectral-imaging-hsi">How to calculate dblf from depths output from hyperspectral imaging (HSI)<a class="anchor" aria-label="anchor" href="#how-to-calculate-dblf-from-depths-output-from-hyperspectral-imaging-hsi"></a>
</h2>
<p>HSI depths are typically reported relative to the top of the ROI, not the core liner, so a different function is used to convert those depths, but the pattern is similar:</p>
<p><code>dblf &lt;- hsi_to_dblf("L380_DUNCA3_LC4U_2",20:30)</code></p>
<p>This will return a dataframe with the depths and some metadata.</p>
<p><strong>You’ll notice that if you enter a top section, the output depths will be identical to the input depths.</strong> This is by design, since the HSI data typically serve as the depth standard for each core.</p>
<div class="section level3">
<h3 id="similarly-to-core-liner-depths-there-is-an-option-to-convert-multiple-core-sections-at-once">Similarly to core liner depths, there is an option to convert multiple core sections at once:<a class="anchor" aria-label="anchor" href="#similarly-to-core-liner-depths-there-is-an-option-to-convert-multiple-core-sections-at-once"></a>
</h3>
<p><code>multi_hsi_to_dblf(c("L380_DUNCA3_LC4U_1","L380_DUNCA3_LC4U_2"),c(20,10))</code></p>
<p>or in the case where you have the information stored in a data.frame</p>
<p><code>multi_hsi_to_dblf(corec("L380_DUNCA3_LC4U_1","L380_DUNCA3_LC4U_2"),c(20,10))</code></p>
</div>
</div>
<div class="section level2">
<h2 id="calculate-a-core-section-depth-if-you-know-dblf">Calculate a core section depth if you know dblf<a class="anchor" aria-label="anchor" href="#calculate-a-core-section-depth-if-you-know-dblf"></a>
</h2>
<p>If you want to do the opposite, use <code><a href="reference/dblf_to_coreSection.html">dblf_to_coreSection()</a></code>. Here you input the core name (not the section name) which will be the same, but without the final underscore and section number. For example, we could go backwards in this core by doing:</p>
<p><code>cs &lt;- dblf_to_coreSection(corename = df$corename, cm = df$depth)</code></p>
</div>
<div class="section level2">
<h2 id="find-the-right-core-name">Find the right core name<a class="anchor" aria-label="anchor" href="#find-the-right-core-name"></a>
</h2>
<p>If you’re having trouble getting the right core name, try the helper functions <code><a href="reference/findCoreSectionName.html">findCoreSectionName()</a></code> where you can input a guess and it will give you suggestions, or <code><a href="reference/listCoreSectionNames.html">listCoreSectionNames()</a></code> to see all the known names.</p>
<p>There is basic help documentation for these functions, see <a href="https://nickmckay.github.io/Lakes380CoreDepthTools/reference/index.html" class="external-link">reference</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing Lakes380CoreDepthTools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Nick McKay <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-3598-5113" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/nickmckay/Lakes380CoreDepthTools/actions" class="external-link"><img src="https://github.com/nickmckay/Lakes380CoreDepthTools/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/nickmckay/Lakes380CoreDepthTools/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/nickmckay/Lakes380CoreDepthTools/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Nick McKay.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
